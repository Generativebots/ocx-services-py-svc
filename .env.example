# OCX Database Configuration
# Copy this file to .env and configure for your environment

# =============================================================================
# DATABASE BACKEND SELECTION
# =============================================================================

# Backend type: postgresql (default) or spanner (enterprise)
# Leave empty for automatic selection based on CLIENT_TIER
# DB_BACKEND=postgresql

# Client tier: starter, growth, enterprise, global
# Determines which database backend to use
CLIENT_TIER=starter

# Client contract value in USD
# Cloud Spanner is automatically enabled at $10M+
CLIENT_CONTRACT_VALUE=0

# =============================================================================
# POSTGRESQL/SUPABASE CONFIGURATION (Default for < $10M clients)
# =============================================================================

# PostgreSQL connection
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=ocx_trust
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_password_here
POSTGRES_SSL_MODE=prefer

# Supabase (if using)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your_supabase_anon_key

# Connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# =============================================================================
# CLOUD SPANNER CONFIGURATION (Enterprise: $10M+ clients only)
# =============================================================================

# GCP Project
GCP_PROJECT_ID=your-gcp-project

# Spanner instance and database
SPANNER_INSTANCE_ID=ocx-global
SPANNER_DATABASE_ID=trust-ledger

# Service account credentials
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# Spanner settings
SPANNER_POOL_SIZE=10
SPANNER_TIMEOUT=30

# =============================================================================
# CLIENT TIER EXAMPLES
# =============================================================================

# STARTER TIER (< $100K)
# CLIENT_TIER=starter
# CLIENT_CONTRACT_VALUE=50000
# → Uses PostgreSQL/Supabase

# GROWTH TIER ($100K - $1M)
# CLIENT_TIER=growth
# CLIENT_CONTRACT_VALUE=500000
# → Uses PostgreSQL/Supabase

# ENTERPRISE TIER ($1M - $10M)
# CLIENT_TIER=enterprise
# CLIENT_CONTRACT_VALUE=5000000
# → Uses PostgreSQL/Supabase

# GLOBAL TIER ($10M+)
# CLIENT_TIER=global
# CLIENT_CONTRACT_VALUE=15000000
# → Uses Cloud Spanner (automatic)

# =============================================================================
# MULTI-TENANT CONFIGURATION
# =============================================================================

# Default tenant ID
TENANT_ID=tenant-default

# Tenant-specific database isolation
ENABLE_ROW_LEVEL_SECURITY=true
